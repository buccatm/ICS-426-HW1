import React from 'react';
import { Container, Col, Row } from 'react-bootstrap';
import * as d3 from 'd3-dsv';
import Plot from 'react-plotly.js';
/** The Footer appears at the bottom of every page. Rendered by the App Layout component. */
const Part3Stuff = () => {
  const deathLocation = d3.csvParse('cases,longitude,latitude\n' +
      '3,-0.13793,51.513418\n' +
      '2,-0.137883,51.513361\n' +
      '1,-0.137853,51.513317\n' +
      '1,-0.137812,51.513262\n' +
      '4,-0.137767,51.513204\n' +
      '2,-0.137537,51.513184\n' +
      '2,-0.1382,51.513359\n' +
      '2,-0.138045,51.513328\n' +
      '3,-0.138276,51.513323\n' +
      '2,-0.138223,51.513427\n' +
      '2,-0.138337,51.513381\n' +
      '1,-0.138563,51.513462\n' +
      '3,-0.138426,51.513216\n' +
      '1,-0.138378,51.513169\n' +
      '4,-0.138337,51.513116\n' +
      '1,-0.138645,51.51324\n' +
      '1,-0.138698,51.513164\n' +
      '1,-0.137924,51.513178\n' +
      '4,-0.137865,51.513111\n' +
      '3,-0.137811,51.513055\n' +
      '2,-0.138762,51.513441\n' +
      '1,-0.138799,51.513592\n' +
      '2,-0.139045,51.513402\n' +
      '2,-0.13897,51.51338\n' +
      '2,-0.138863,51.513411\n' +
      '1,-0.138752,51.513641\n' +
      '1,-0.138808,51.513693\n' +
      '3,-0.138856,51.513745\n' +
      '1,-0.138887,51.513676\n' +
      '1,-0.139239,51.51359\n' +
      '1,-0.139321,51.513663\n' +
      '1,-0.139316,51.513502\n' +
      '2,-0.139616,51.513583\n' +
      '2,-0.139719,51.513541\n' +
      '1,-0.140074,51.513298\n' +
      '1,-0.139094,51.513291\n' +
      '1,-0.139697,51.513013\n' +
      '1,-0.139327,51.512965\n' +
      '2,-0.139317,51.512893\n' +
      '8,-0.139187,51.512964\n' +
      '2,-0.139036,51.513025\n' +
      '1,-0.139209,51.513027\n' +
      '1,-0.138427,51.512831\n' +
      '1,-0.138624,51.512885\n' +
      '1,-0.138096,51.512526\n' +
      '1,-0.138035,51.512465\n' +
      '4,-0.137984,51.512428\n' +
      '1,-0.138065,51.512415\n' +
      '1,-0.138194,51.51251\n' +
      '1,-0.137818,51.512378\n' +
      '1,-0.137656,51.512447\n' +
      '4,-0.137584,51.512491\n' +
      '1,-0.13765,51.512374\n' +
      '1,-0.13745,51.512339\n' +
      '1,-0.137376,51.512364\n' +
      '1,-0.137327,51.512319\n' +
      '1,-0.13698,51.51254\n' +
      '2,-0.13718,51.512649\n' +
      '1,-0.137052,51.512692\n' +
      '1,-0.137695,51.512957\n' +
      '1,-0.137533,51.512765\n' +
      '2,-0.137419,51.51278\n' +
      '1,-0.137368,51.512726\n' +
      '1,-0.137325,51.512681\n' +
      '2,-0.137531,51.512914\n' +
      '2,-0.137562,51.513046\n' +
      '1,-0.137466,51.513074\n' +
      '2,-0.137386,51.513087\n' +
      '3,-0.137306,51.513122\n' +
      '1,-0.137089,51.513187\n' +
      '4,-0.136996,51.513214\n' +
      '15,-0.136859,51.513249\n' +
      '3,-0.136778,51.513271\n' +
      '4,-0.136705,51.5133\n' +
      '5,-0.136493,51.51316\n' +
      '2,-0.13633,51.513016\n' +
      '1,-0.136424,51.512921\n' +
      '2,-0.136523,51.51289\n' +
      '1,-0.136599,51.512859,\n' +
      '1,-0.136699,51.51283\n' +
      '1,-0.136819,51.512782\n' +
      '1,-0.136973,51.512729\n' +
      '1,-0.136358,51.512868\n' +
      '1,-0.13663,51.512723\n' +
      '1,-0.136584,51.512654\n' +
      '1,-0.136423,51.512713\n' +
      '1,-0.136345,51.512615\n' +
      '1,-0.136437,51.512491\n' +
      '1,-0.136377,51.512449\n' +
      '1,-0.136197,51.512465\n' +
      '1,-0.136142,51.512413\n' +
      '2,-0.136102,51.512358\n' +
      '1,-0.13603,51.512271\n' +
      '1,-0.13631,51.512355\n' +
      '4,-0.13594,51.511991\n' +
      '2,-0.135858,51.512083\n' +
      '1,-0.1358,51.512031\n' +
      '4,-0.135717,51.51197\n' +
      '4,-0.135119,51.511882\n' +
      '1,-0.135144,51.51205\n' +
      '4,-0.135394,51.51225\n' +
      '1,-0.135409,51.512162\n' +
      '1,-0.135472,51.512212\n' +
      '2,-0.135765,51.512573\n' +
      '1,-0.135871,51.512575\n' +
      '2,-0.135976,51.512672\n' +
      '3,-0.136033,51.512727\n' +
      '1,-0.136115,51.512794\n' +
      '4,-0.13618,51.512846\n' +
      '1,-0.136083,51.512879\n' +
      '1,-0.136139,51.512939\n' +
      '7,-0.135329,51.512765\n' +
      '3,-0.135122,51.512844\n' +
      '8,-0.134645,51.512532\n' +
      '1,-0.134522,51.512198\n' +
      '1,-0.134967,51.512215\n' +
      '5,-0.135098,51.513154\n' +
      '8,-0.134394,51.513056\n' +
      '2,-0.134505,51.513165\n' +
      '1,-0.134437,51.513098\n' +
      '1,-0.134594,51.513238\n' +
      '2,-0.13464,51.513293\n' +
      '1,-0.134709,51.513379\n' +
      '2,-0.134756,51.513431\n' +
      '2,-0.135244,51.513475\n' +
      '3,-0.134897,51.513422\n' +
      '1,-0.135158,51.513528\n' +
      '2,-0.135344,51.513481\n' +
      '2,-0.135063,51.513594\n' +
      '3,-0.135801,51.513227\n' +
      '1,-0.135762,51.51318\n' +
      '2,-0.13574,51.513132\n' +
      '1,-0.135645,51.513048\n' +
      '1,-0.135602,51.513006\n' +
      '1,-0.135501,51.512883\n' +
      '1,-0.135832,51.51327\n' +
      '3,-0.136049,51.513459\n' +
      '3,-0.13614,51.513431\n' +
      '3,-0.136228,51.513402\n' +
      '3,-0.134999,51.512593\n' +
      '1,-0.134793,51.512585\n' +
      '2,-0.134896,51.512555\n' +
      '1,-0.135,51.512521\n' +
      '1,-0.133483,51.513137\n' +
      '1,-0.133265,51.513228\n' +
      '2,-0.133296,51.513152\n' +
      '1,-0.132933,51.513258\n' +
      '1,-0.133998,51.513544\n' +
      '1,-0.134042,51.513626\n' +
      '2,-0.134156,51.513637\n' +
      '2,-0.134091,51.513524\n' +
      '1,-0.134272,51.51382\n' +
      '1,-0.13422,51.513724\n' +
      '1,-0.134704,51.513704\n' +
      '1,-0.134782,51.513831\n' +
      '1,-0.13501,51.513915\n' +
      '1,-0.134923,51.513597\n' +
      '1,-0.134885,51.514032\n' +
      '5,-0.134212,51.513891\n' +
      '1,-0.134135,51.513758\n' +
      '1,-0.134364,51.514065\n' +
      '2,-0.134447,51.514146\n' +
      '2,-0.134479,51.514201\n' +
      '1,-0.134658,51.51423\n' +
      '1,-0.134367,51.514319\n' +
      '1,-0.134179,51.514377\n' +
      '1,-0.13416,51.514357\n' +
      '2,-0.134069,51.514382\n' +
      '2,-0.134085,51.514402\n' +
      '5,-0.133821,51.514522\n' +
      '1,-0.133922,51.514497\n' +
      '1,-0.13385,51.514472\n' +
      '1,-0.133725,51.514504\n' +
      '1,-0.133745,51.514546\n' +
      '4,-0.133676,51.514561\n' +
      '1,-0.133563,51.514594\n' +
      '2,-0.133467,51.514581\n' +
      '1,-0.133393,51.514606\n' +
      '1,-0.134474,51.515834\n' +
      '1,-0.135259,51.515195\n' +
      '1,-0.135395,51.515149\n' +
      '1,-0.136022,51.514818\n' +
      '3,-0.136804,51.514843\n' +
      '1,-0.136583,51.514914\n' +
      '1,-0.135653,51.514496\n' +
      '2,-0.135578,51.514743\n' +
      '1,-0.13486,51.514467\n' +
      '1,-0.13469,51.514453\n' +
      '1,-0.134818,51.514845\n' +
      '1,-0.135704,51.514389\n' +
      '1,-0.135561,51.514399\n' +
      '2,-0.135649,51.514335\n' +
      '1,-0.135415,51.514224\n' +
      '1,-0.135576,51.51422\n' +
      '2,-0.135357,51.514145\n' +
      '3,-0.135475,51.514108\n' +
      '2,-0.136226,51.514359\n' +
      '1,-0.136328,51.514326\n' +
      '1,-0.136222,51.514544\n' +
      '1,-0.136117,51.514569\n' +
      '1,-0.13603,51.514586\n' +
      '1,-0.136266,51.514612\n' +
      '2,-0.136421,51.514575\n' +
      '3,-0.136935,51.514507\n' +
      '3,-0.136931,51.514274\n' +
      '1,-0.136799,51.514293\n' +
      '1,-0.13678,51.514058\n' +
      '3,-0.136696,51.514148\n' +
      '1,-0.136712,51.513961\n' +
      '1,-0.136123,51.514027\n' +
      '1,-0.135958,51.514076\n' +
      '1,-0.135883,51.514096\n' +
      '2,-0.135788,51.514134\n' +
      '2,-0.135849,51.514033\n' +
      '4,-0.136008,51.513996\n' +
      '5,-0.136099,51.51396\n' +
      '2,-0.13617,51.513945\n' +
      '5,-0.135485,51.513821\n' +
      '5,-0.135374,51.513999\n' +
      '3,-0.135582,51.513795\n' +
      '3,-0.135679,51.513766\n' +
      '1,-0.135814,51.513726\n' +
      '5,-0.135905,51.513692\n' +
      '4,-0.135992,51.513672\n' +
      '4,-0.136217,51.513603\n' +
      '1,-0.136579,51.513482\n' +
      '4,-0.136675,51.513458\n' +
      '1,-0.136764,51.513429\n' +
      '3,-0.136877,51.513404\n' +
      '2,-0.136953,51.513359\n' +
      '1,-0.13723,51.513378\n' +
      '2,-0.136651,51.513855\n' +
      '1,-0.136503,51.513875\n' +
      '1,-0.137367,51.513565\n' +
      '2,-0.137422,51.513616\n' +
      '3,-0.137472,51.513742\n' +
      '1,-0.1383,51.513918\n' +
      '1,-0.137363,51.513772\n' +
      '4,-0.137995,51.513502\n' +
      '2,-0.138139,51.513712\n' +
      '2,-0.138239,51.513644\n' +
      '1,-0.138272,51.513711\n' +
      '5,-0.138083,51.514061\n' +
      '3,-0.137912,51.514748\n' +
      '2,-0.137707,51.514794\n' +
      '3,-0.137108,51.514526\n' +
      '2,-0.137065,51.514706\n' +
      '1,-0.138474,51.512311\n' +
      '1,-0.138123,51.511998\n' +
      '1,-0.137762,51.511856');
  const pumpLocation = d3.csvParse('longitude,latitude\n' +
      '-0.136668,51.513341\n' +
      '-0.139586,51.513876\n' +
      '-0.139671,51.514906\n' +
      '-0.13163,51.512354\n' +
      '-0.133594,51.512139\n' +
      '-0.135919,51.511542\n' +
      '-0.133962,51.510019\n' +
      '-0.138199,51.511295');

  const lats = deathLocation.map((datas) => datas.latitude.toString());
  const latPumps = pumpLocation.map((datas) => datas.latitude.toString());

  const long = deathLocation.map((datas) => datas.longitude.toString());
  const longPumps = pumpLocation.map((datas) => datas.longitude.toString());

  const counts = deathLocation.map((datas) => datas.cases);
  const countsLabel = deathLocation.map((datas) => `Number of Cases: ${datas.cases}`);
  const radius = deathLocation.map((datas) => datas.cases * 2);

  return (
    <Container fluid>
      <h1 style={{ textAlign: 'left' }}>Geo Map</h1>
      <Plot
        data={[
          {
            type: 'scattermapbox',
            lon: long,
            lat: lats,
            name: 'Case Sightings',
            mode: 'markers',
            marker: {
              size: radius,
              color: counts,
              cauto: true,
              colorscale: 'Greens',
              colorbar: {
                title: 'Case Intensity',
                ticksuffix: '%',
                showticksuffix: 'last',
              },
            },

            text: countsLabel,
          },
          {
            type: 'scattermapbox',
            lon: longPumps,
            lat: latPumps,
            name: 'Water',
            mode: 'markers',
            marker: {
              color: 'blue',
              size: 10,
            },
            text: 'Water Pump',
          },
        ]}
        layout={
          {
            legend: {
              orientation: 'h',
            },
            showlegend: true,
            resolution: 50,
            height: 700,
            width: 1100,
            hovermode: 'closest',

            mapbox: {
              bearing: 0,
              center: {
                lon: [deathLocation[0].longitude].toString(),
                lat: [deathLocation[0].latitude].toString(),
              },
              pitch: 0,
              zoom: 16,
            },
          }
        }
        config={
          {
            mapboxAccessToken: 'pk.eyJ1IjoiYnVjY2F0bSIsImEiOiJjbDh0bGtxYXMwNDBiM3Zwa3R5c2xqbXQxIn0.sdFoIzC8rqYT8jhMC2VBTw',
          }
        }

      />

    </Container>

  );
};

export default Part3Stuff;
